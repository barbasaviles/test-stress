{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,IAAuB,EAAE,EAAE,CAC3D,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;AAExD,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,EAAsB,EAAY,EAAE;IACpE,IAAI,CAAC,EAAE;QAAE,OAAO,EAAE,CAAA;IAClB,MAAM,IAAI,GAAG,EAAE,CAAA;IACf,IAAI,QAAQ,GAAG,KAAK,CAAA;IACpB,IAAI,OAAO,GAAG,KAAK,CAAA;IACnB,IAAI,QAAQ,GAAG,CAAC,CAAA;IAChB,IAAI,GAAG,GAAG,EAAE,CAAA;IACZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACnC,MAAM,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA;QACtB,QAAQ,CAAC,EAAE,CAAC;YACV,KAAK,GAAG;gBACN,IAAI,QAAQ,EAAE,CAAC;oBACb,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAA;oBACtC,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAA;oBAChB,QAAQ,GAAG,KAAK,CAAA;gBAClB,CAAC;qBAAM,IAAI,OAAO,EAAE,CAAC;oBACnB,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAA;oBAC5B,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAA;oBAChB,OAAO,GAAG,KAAK,CAAA;gBACjB,CAAC;qBAAM,CAAC;oBACN,OAAO,GAAG,IAAI,CAAA;oBACd,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAA;oBAC5B,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAA;gBAClB,CAAC;gBACD,SAAQ;YAEV,KAAK,IAAI;gBACP,IAAI,OAAO,EAAE,CAAC;oBACZ,QAAQ,GAAG,IAAI,CAAA;gBACjB,CAAC;gBACD,SAAQ;YAEV,KAAK,GAAG;gBACN,IAAI,OAAO;oBAAE,SAAQ;gBACrB,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAA;gBAC5B,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAA;gBAChB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;gBACd,GAAG,GAAG,EAAE,CAAA;gBACR,SAAQ;YAEV;gBACE,QAAQ,GAAG,KAAK,CAAA;gBAChB,SAAQ;QACZ,CAAC;IACH,CAAC;IACD,IAAI,OAAO,EAAE,CAAC;QACZ,OAAO,EAAE,CAAA;IACX,CAAC;IACD,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;IACzB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;IACd,OAAO,IAAI,CAAA;AACb,CAAC,CAAA","sourcesContent":["export const argvToNodeOptions = (argv: readonly string[]) =>\n  argv.map(o => `\"${o.replace(/\"/g, '\\\\\"')}\"`).join(' ')\n\nexport const nodeOptionsToArgv = (no: string | undefined): string[] => {\n  if (!no) return []\n  const argv = []\n  let escaping = false\n  let inquote = false\n  let tokStart = 0\n  let tok = ''\n  for (let i = 0; i < no.length; i++) {\n    const c = no.charAt(i)\n    switch (c) {\n      case '\"':\n        if (escaping) {\n          tok += no.slice(tokStart, i - 1) + '\"'\n          tokStart = i + 1\n          escaping = false\n        } else if (inquote) {\n          tok += no.slice(tokStart, i)\n          tokStart = i + 1\n          inquote = false\n        } else {\n          inquote = true\n          tok += no.slice(tokStart, i)\n          tokStart = i + 1\n        }\n        continue\n\n      case '\\\\':\n        if (inquote) {\n          escaping = true\n        }\n        continue\n\n      case ' ':\n        if (inquote) continue\n        tok += no.slice(tokStart, i)\n        tokStart = i + 1\n        argv.push(tok)\n        tok = ''\n        continue\n\n      default:\n        escaping = false\n        continue\n    }\n  }\n  if (inquote) {\n    return []\n  }\n  tok += no.slice(tokStart)\n  argv.push(tok)\n  return argv\n}\n"]}